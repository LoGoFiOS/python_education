# Язык Python. Общее
Язык интерпретируемый с некоторой [компиляцией](https://habr.com/ru/post/209812/ "компиляцией"). CPython - самая распространённая реализация, написанная на C, компилирует исходный код в байткод, а затем интерпретирует его, запуская на виртуальной машине. Более подробно об устройстве [CPython](https://habr.com/ru/company/yandex/blog/511972/ "CPython").

## Модель данных
В Python всё - объекты и отношения между ними. Здесь объект это абстракция (контейнер в памяти) для данных. 

Каждый объект хранит:  идентификатор, тип и значение.
Идентификатор `id(x)`- адрес объекта `x` в памяти. 

Когда пишем `y  =  42`, то это означает, что имя `y` связывается с объектом `42`, т.е. ссылается на него. Поэтому значение переменной - значение объекта по ссылке.

    х  = [1, 2, 3]     # создались 4-ре объекта в памяти: список и числа
    y = x    # y ссылается на х, который ссылается на объект list
    y is x    # True

## Стандартные типы данных
Типы данных делятся на Mutable (изменяемые) и  Immutable (неизменяемые). 

Mutable: числа, bool, tuple(), string, frozenSet.
Immutable: list[], dict{}, set{}

Mutable могут менять своё значение в течение жизненного цикла. 

    s = "123"
    t = s
    t is s # True
    t = t + "4"
    print(s, t) # "123", "1234"
    t is s # False


    x = [1,2,3]
    y = x
    y is x # True
    y.append(4)
    y is x # True
    print(x, y) # [1,2,4,4] [1,2,3,4]
    
Так же важно различать операторы `=` и `+=`, применяемых к  mutable:

    x = [1,2,3]
    y = x
    y += [5]
    x is y # True. x и y ссылаются на один объект
    z = x + [5]
    x is z # False. Был создан новый объект, на который ссылается z
    
## Функции. Общее
Функции так же являются объектами.

    def fun_name(arg1, arg2): # (1)
        return arg1+arg2 # (3)(4)
        
    x = fun_name(8,2) # (2)
    y = fun_name(x, 21)
    
(1) При объявлении функции создаётся объект с которым связывается имя функции fun_name.
(2) Создаются объекты 8 и 2 на которые ссылаются arg1 и arg2.
(3) Создаётся объект с результатом - 10.
(4) Ссылка на этот объект - резудьтат выполнения функции. При этом важно, что если функция не имеет явного `return`, то результатом будет `None`.

Важно. Если задаы аргументы по-умолчанию, то они будут вычислены 1 раз - при объявлении функции:
    
    b = 1
    def foo(a=b):
        print(a)
    foo() # out: 1
    b = 2
    foo() # out: 1
    
Здесь дважды вызывается один и тот же mutable list, созданный при объявлении функции:
    
    def foo(x=[0]):
        x[0] += 1
        print(x)
    foo() # out 1
    foo() # out 2
    
##  Стек вызовов
